import"./base-31fe791a.js";import{E as d}from"./el-button-906d2313.js";import{d as f,k as h,s as m,G as _,o as p,f as v,O as c,w,I as x,H as P}from"./index-7e87ac08.js";import"./use-form-item-5171a10b.js";import"./index-f8748455.js";const C={class:"defaults"},g=f({__name:"randomTree",setup(M){const a=h(null);let e=null;m(()=>{a.value&&l(a.value)});const u=()=>{var t,o;!e||!a.value||(e.clearRect(0,0,(t=a.value)==null?void 0:t.width,(o=a.value)==null?void 0:o.height),l(a.value))};function l(t){e=t.getContext("2d"),e&&(t.width=400*devicePixelRatio,t.height=300*devicePixelRatio,e.translate(t.width/2,t.height),e.scale(1,-1),i([0,0],160,30,90))}function i(t,o,r,n){if(!e||r<14&&Math.random()<.2)return;if(r<2){e.beginPath(),e.arc(...t,10,0,2*Math.PI),e.fillStyle="#f00",e.fill(),e.closePath();return}e.beginPath(),e.moveTo(...t);const s=[t[0]+o*Math.cos(n*Math.PI/180),t[1]+o*Math.sin(n*Math.PI/180)];e.lineTo(...s),e.strokeStyle="#000",e.lineWidth=r,e.lineCap="round",e.stroke(),i(s,o*.75,r*.6,n-20),i(s,o*.75,r*.6,n+20)}return(t,o)=>{const r=_("v-md-preview"),n=d;return p(),v("div",C,[c(r,{text:`
> Canvas随机树
`}),c(n,{onClick:u},{default:w(()=>[x("重新生成")]),_:1}),P("canvas",{ref_key:"canvasRef",ref:a},null,512)])}}});export{g as default};
